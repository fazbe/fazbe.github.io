<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Faz-B</title>

  
  <meta name="author" content="Faz-B Man">
  

  
  <meta name="description" content="Como fazer coisas tecnológicas de formas simples e rápidas, sem frescura!">
  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="Faz-B"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <meta name="google-site-verification" content="VSyuiZ57yu1p3PRQGOiZxEOSgbYE7Zy5s8dWJoH-k-U" />

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Faz-B" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Faz-B</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Início</a></li>
      
        <li><a href="/Sobre">Sobre</a></li>
      
    </ul>
  </nav>
  <nav class="site-navigation">
    <ul>
      <li>
        <br>
        <br>

        <script>
          var domainroot="fazbe.github.io"
          function Gsitesearch(curobj){ curobj.q.value="site:"+domainroot+" "+curobj.qfront.value }
        </script>
        <form class="search navbar-form navbar-right" action="http://www.google.com/search" method="get"role="search" onSubmit="Gsitesearch(this)">
          <div class="input-group">
                  <input name="q" type="hidden" />
                  <input class="form-control" name="qfront" type="search" required class="searchField" placeholder="busque algo..." maxlength="50"/>
          </div>
        </form>
      </li>
    </ul>
  </nav>
</header>




    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Lei-de-Ohm-e-Resistores-voce-conhece-e-sabe/"><span>Lei de Ohm e Resistores, você conhece e sabe?</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Lei-de-Ohm-e-Resistores-voce-conhece-e-sabe/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-16T18:19:13.000Z">
          2017-02-16
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Um dos componentes eletrônicos mais usados pelo menos quando o assunto é Arduino e seus agregados, é o resistor. No início é complicado mas com o tempo você vai pegando o jeito. E não se preocupe também, na internet hoje em dia tem MUITO material para estudar, prontos e etc.</p>
<p>Existem diversos vídeos bem complexos e com muita teoria, cálculos e mais cálculos, então selecionei dois que são bem diretos e explica bem!</p>
<p>Selecionei alguns vídeos legais, que falam sobre resistores e a tal lei de ohm.</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/LQGUwEe915I" frameborder="0" allowfullscreen></iframe></div>
<p>Como calcular o resistor adequado</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/h9oK4o63Kvs" frameborder="0" allowfullscreen></iframe></div>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Abrir-pasta-do-Finder-no-Terminal-e-vice-versa-no-Mac/"><span>Abrir pasta do Finder no Terminal e vice-versa no Mac</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Abrir-pasta-do-Finder-no-Terminal-e-vice-versa-no-Mac/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-16T17:40:05.000Z">
          2017-02-16
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Eu acredito que você já saiba trabalhar no Terminal do Mac, configurar e usar inclusive o bash_profile. Se não sabe, <a href="https://nandovieira.com.br/configurando-o-terminal-no-mac-os-x" target="_blank" rel="external">dê uma olhada aqui</a> e <a href="http://www.vitorbritto.com.br/blog/adicionando-caminhos-na-variavel-de-ambiente-PATH/" target="_blank" rel="external">aqui também</a></p>
<p>Certo, vamos criar uma função no nosso arquivo de configuração <strong>.bash_profile</strong> normalmente no Mac ele fica no diretório base do seu usuário.</p>
<p>Para abrir uma pasta que está ativa no Finder dentro do Terminal:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">finder_term</span></span>() &#123;</div><div class="line">    <span class="comment"># Neste caso "of" é somente um alias customizado criado para excução</span></div><div class="line">    of=`osascript <span class="_">-e</span> <span class="string">'tell application "Finder" to if (count of Finder windows) &gt; 0 then get POSIX path of (target of front Finder window as text)'</span>` &amp;&amp; [ -n <span class="string">"<span class="variable">$of</span>"</span> ] &amp;&amp; <span class="built_in">cd</span> <span class="string">"<span class="variable">$of</span>"</span> &amp;&amp; <span class="built_in">pwd</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Para abrir uma pasta que está ativa no Terminal dentro do Finder. Neste caso não iremos criar uma função e sim um <strong>alias</strong>:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">alias</span> term_finder=<span class="string">'open -a Finder .'</span></div></pre></td></tr></table></figure></p>
<p>Pronto, salve o seu arquivo .bash_profile e “atualize” ele digitando no Terminal o comando:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">source</span> ~/.bash_profile</div></pre></td></tr></table></figure></p>
<p>Para testar, <strong>abra uma pasta no Finder</strong> e com ela ativa, abra o Terminal e digite:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">finder_term</div></pre></td></tr></table></figure></p>
<p>Pressione RETURN/ENTER e ele vai abrir a pasta do Finder <strong>dentro do seu Terminal</strong>.</p>
<p>Pronto, agora <strong>feche a janela do Finder</strong> e na mesma janela do Terminal digite:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">term_finder</div></pre></td></tr></table></figure></p>
<p>Pressione RETURN/ENTER e ele vai abrir a pasta do Terminal <strong>em uma janela do Finder</strong>.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Mostrar-informacoes-das-portas-USB-no-Mac/"><span>Mostrar informações das portas USB no Mac</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Mostrar-informacoes-das-portas-USB-no-Mac/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-16T16:35:50.000Z">
          2017-02-16
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Só abrir o <a href="https://tecnologia.umcomo.com.br/artigo/como-abrir-o-terminal-em-computadores-mac-3950.html" target="_blank" rel="external">Terminal</a> e digitar o comando:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">system_profiler SPUSBDataType</div></pre></td></tr></table></figure></p>
<p>Irá aparecer algo como:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">USB:</div><div class="line"></div><div class="line">    USB 2.0 Bus:</div><div class="line"></div><div class="line">      Host Controller Driver: AppleUSBEHCIPCI</div><div class="line">      PCI Device ID: 0x1e2d</div><div class="line">      PCI Revision ID: 0x0004</div><div class="line">      PCI Vendor ID: 0x8086</div><div class="line"></div><div class="line">        Hub:</div><div class="line"></div><div class="line">          Product ID: 0x0024</div><div class="line">          Vendor ID: 0x8087  (Intel Corporation)</div><div class="line">          Version: 0.00</div><div class="line">          Speed: Up to 480 Mb/sec</div><div class="line">          Location ID: 0x1a100000 / 1</div><div class="line">          Current Available (mA): 1000</div><div class="line">          Current Required (mA): 0</div><div class="line">          Extra Operating Current (mA): 0</div><div class="line">          Built-In: Yes</div></pre></td></tr></table></figure></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Executando-comandos-de-Apple-Script-no-Node-js/"><span>Executando comandos de Apple Script no Node.js</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Executando-comandos-de-Apple-Script-no-Node-js/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-12T13:54:43.000Z">
          2017-02-12
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Para mim, automatizar tarefas no Mac é meio que uma diversão. Por exemplo, scripts para backup e sincronização no Google Drive, Dropbox e HD externo, envio de SMS quando tais backups chegam ao fim, execução de comandos bash personalizados e etc.</p>
<p>Recentemente criei um projeto em node que recebe comandos atavés de um <strong>MQTT Broker</strong> (usando publisher, claro!) que executa certas tarefas no Mac, uma vez que costumo sair do escritório e deixá-lo ligado. E o que mais uso, são <strong>Apple Scripts</strong>.</p>
<p>Precisei executar alguns <strong>Apple Scripts</strong> através do <strong>Node.js</strong> e encontrei a biblioteca <a href="https://www.npmjs.com/package/node-osascript" target="_blank" rel="external">node-osascript</a>, não tenho muito o que falar, só que funciona perfeitamente.</p>
<p>Enfim, aqui eu instalei o pacote global<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install node-osascript -g</div></pre></td></tr></table></figure></p>
<p>E para testar, crie um script (<a href="https://www.npmjs.com/package/node-osascript#simple" target="_blank" rel="external">o mesmo do exemplo na página do pacote</a>), porém mudei para ativar o Google Chrome. Se ele estiver fechado, será aberto e se já estiver aberto, será focado/ativado.</p>
<p>Salve o script abaixo como <strong>index.js</strong> em qualquer pasta que você quiser.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> osascript = <span class="built_in">require</span>(<span class="string">'node-osascript'</span>);</div><div class="line"> </div><div class="line">osascript.execute(<span class="string">'tell application "Chrome" to activate'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, result, raw</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.error(err)</div><div class="line">  <span class="built_in">console</span>.log(result, raw)</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>Execute o script com o node e seja feliz.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node index.php</div></pre></td></tr></table></figure></p>
<p>Para ver como funciona, você pode testar o <strong>Apple Script</strong> sem o node, usando o terminal do Mac:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">osascript <span class="_">-e</span> <span class="string">'tell application "Chrome" to activate'</span></div></pre></td></tr></table></figure></p>
<p>Não gosto de usar aplicativos prontos pois, para começar eu nunca encontro um que me atenda da forma que preciso, além de alguns custarem um preço absurdo (eu pelo menos não pago). Segundo, é legal criar esses scripts e aprender um pouco mais sobre node, apple scripts, javascript e etc. E tem mais, porquê pagar 30.. 50 dólares se eu posso fazer a mesma coisa em algumas horas?</p>
<img src="/images/emojis/joy.png" width="32" height="32" class="custom_class1 custom_class2 emoji nofancybox" title="joy">
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Usando-o-paho-mqtt-para-Python/"><span>Usando o paho-mqtt para Python</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Usando-o-paho-mqtt-para-Python/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-12T13:42:20.000Z">
          2017-02-12
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Bom, você já deve entender de Python né? Senão, estude e volte aqui.</p>
<p>O lance aqui é simples com <a href="https://eclipse.org/paho/" target="_blank" rel="external">paho-mqtt</a>, para ouvir um tópico, façamos o seguinte:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Para instalar o paho-mqtt use o comando pip install paho-mqtt</span></div><div class="line"><span class="keyword">import</span> paho.mqtt.client <span class="keyword">as</span> mqtt</div><div class="line"></div><div class="line"><span class="comment"># The callback for when the client receives a CONNACK response from the server.</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_connect</span><span class="params">(client, userdata, flags, rc)</span>:</span></div><div class="line"></div><div class="line">    <span class="comment"># O subscribe fica no on_connect pois, caso perca a conexão ele a renova</span></div><div class="line">    <span class="comment"># Lembrando que quando usado o #, você está falando que tudo que chegar após a barra do topico, será recebido</span></div><div class="line">    client.subscribe(<span class="string">"topico/#"</span>)</div><div class="line"></div><div class="line"><span class="comment"># Callback responável por receber uma mensagem publicada no tópico acima</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_message</span><span class="params">(client, userdata, msg)</span>:</span></div><div class="line">    print(msg.topic+<span class="string">" -  "</span>+str(msg.payload))</div><div class="line"></div><div class="line">client = mqtt.Client()</div><div class="line">client.on_connect = on_connect</div><div class="line">client.on_message = on_message</div><div class="line"></div><div class="line"><span class="comment"># Seta um usuário e senha para o Broker, se não tem, não use esta linha</span></div><div class="line">client.username_pw_set(<span class="string">"USUARIO"</span>, password=<span class="string">"SENHA"</span>)</div><div class="line"></div><div class="line"><span class="comment"># Conecta no MQTT Broker, no meu caso, o Mosquitto</span></div><div class="line">client.connect(<span class="string">"IP_OU_URL_BROKER"</span>, PORTA, <span class="number">60</span>)</div><div class="line"></div><div class="line"><span class="comment"># Inicia o loop</span></div><div class="line">client.loop_forever()</div></pre></td></tr></table></figure></p>
<p>Para publicar, faça o seguinte<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Importa o publish do paho-mqtt</span></div><div class="line"><span class="keyword">import</span> paho.mqtt.publish <span class="keyword">as</span> publish</div><div class="line"></div><div class="line"><span class="comment"># Publica</span></div><div class="line">publish.single(<span class="string">"topico/teste"</span>, <span class="string">"Oi, aqui é um teste"</span>, hostname=<span class="string">"IP_OU_URL_BROKER"</span>)</div></pre></td></tr></table></figure></p>
<p>Na publicação, você passa todos os parâmetros no publish, como QOS, porta, auth e etc. Tudo muito fácil né? Quer saber mais? <a href="https://eclipse.org/paho/clients/python/docs/" target="_blank" rel="external">Leia a documentação do paho-mqtt</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Verificando-se-um-conteudo-ou-palavra-existe-dentro-de-arquivos-com-PHP-e-Laravel/"><span>Verificando se um conteúdo ou palavra existe dentro de arquivos com PHP e Laravel</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Verificando-se-um-conteudo-ou-palavra-existe-dentro-de-arquivos-com-PHP-e-Laravel/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-10T17:33:55.000Z">
          2017-02-10
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Isso mesmo que você leu. Sem enrolação vamos executar esse código logo. Mais uma vez, como na postagem anterior, iremos criar como uma função simples, mas você usa como quiser.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!function_exists((<span class="string">'file_has_content'</span>))) &#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">file_has_content</span><span class="params">($file, $subject)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> str_contains(file_get_contents(base_path($file)), $subject);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Para usar é simples, levando em consideração que usa dois helpers do Laravel, o <a href="https://laravel.com/docs/5.4/helpers#method-str-contains" target="_blank" rel="external">str_contains</a> e o <a href="https://laravel.com/docs/5.4/helpers#method-base-path" target="_blank" rel="external">base_path</a>, vamos fazer o seguinte:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">file_has_content(<span class="string">'composer.json'</span>, <span class="string">'require-dev'</span>);</div></pre></td></tr></table></figure>
<p>Provavelmente o código acima irá retornar <strong>true</strong> uma vez que na instalação padrão do Laravel, existe <strong>require-dev</strong> no <strong>composer.json</strong> que está na base do projeto Laravel.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Criar-uma-paginacao-customizada-no-Laravel-com-dados-de-uma-collection/"><span>Criar uma paginação customizada no Laravel com dados de uma collection</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Criar-uma-paginacao-customizada-no-Laravel-com-dados-de-uma-collection/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-10T17:22:13.000Z">
          2017-02-10
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Talvez você seja um programador fodão em Laravel e fale “Mais isso todo mundo sabe fazer”. É ai que você se engana meu coleguinha, trabalho com Laravel a bastante tempo e posso dizer com toda certeza, muita gente tem dificuldade no momento de criar uma instância customizada de paginação com Laravel.</p>
<p>Logo abaixo, encontra-se uma função usando os recursos do Laravel, mas você pode criar uma classe, uma pacote ou seja la o que for necessário no seu caso.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!function_exists(<span class="string">'paginator_instance'</span>)) &#123;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Cria uma intância personalizada do paginator, a qual pode ser usada em retornos de collect e retornis customizados</div><div class="line">     * <span class="doctag">@param</span>  collect/model $items         Itens a serem paginados</div><div class="line">     * <span class="doctag">@param</span>  array  $requests             Requests que devem ser passados na paginação, por exemplo, uma busca (query) e etc</div><div class="line">     * <span class="doctag">@param</span>  int $perPage                 Quantidade de itens por página</div><div class="line">     * <span class="doctag">@param</span>  int $currentPage             Página atual, normalmente vazio pois usa padrão do Laravel</div><div class="line">     * <span class="doctag">@param</span>  array  $options              Opções de paginação, normalmente, usa o padrão do Laravel</div><div class="line">     * <span class="doctag">@return</span> paginator/collect            Paginator com resultados</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">paginator_instance</span><span class="params">($items, $requests = [], $perPage = <span class="number">10</span>, $currentPage = null, array $options = [])</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Monta $perPage</span></div><div class="line">        $perPage = $perPage;</div><div class="line"></div><div class="line">        <span class="comment">// Pega a página atual</span></div><div class="line">        <span class="comment">// Se não preenchido, usa o método resolveCurrentPage() da \Illuminate\Pagination\LengthAwarePaginator</span></div><div class="line">        $page = $currentPage ? $currentPage : \Illuminate\Pagination\LengthAwarePaginator::resolveCurrentPage();</div><div class="line"></div><div class="line">        <span class="comment">// Monta collection com itens para paginacao</span></div><div class="line">        $currentPageSearchResults = collect($items)-&gt;slice(($page - <span class="number">1</span>) * $perPage, $perPage)-&gt;all();</div><div class="line"></div><div class="line">        <span class="comment">// Cria a paginação</span></div><div class="line">        $paginator = (<span class="keyword">new</span> \Illuminate\Pagination\LengthAwarePaginator($currentPageSearchResults, count($items), $perPage, $page, $options &gt;= <span class="number">1</span> ? $options : [</div><div class="line">            <span class="string">'path'</span> =&gt; \Illuminate\Pagination\Paginator::resolveCurrentPath(),</div><div class="line">            <span class="string">'pageName'</span> =&gt; <span class="string">'page'</span>,</div><div class="line">        ]));</div><div class="line">		</div><div class="line">        <span class="comment">// Retorna os dados montado e com paginação</span></div><div class="line">        <span class="keyword">return</span> $paginator-&gt;appends($requests);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Fácil né? Poisé!<br>Entenda melhor a classe <a href="https://laravel.com/api/5.4/Illuminate/Pagination/LengthAwarePaginator.html" target="_blank" rel="external"><strong>LengthAwarePaginator</strong></a> e <a href="https://github.com/laravel/framework/blob/5.4/src/Illuminate/Pagination/LengthAwarePaginator.php" target="_blank" rel="external">aqui você pode ver</a> o arquivo completo no Github.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Instalando-testando-e-conhecendo-o-MQTT-no-Ubuntu/"><span>Instalando, testando e conhecendo o MQTT no Ubuntu</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Instalando-testando-e-conhecendo-o-MQTT-no-Ubuntu/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-10T12:38:04.000Z">
          2017-02-10
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Já mostrei como <a href="/Instalando-o-MQTT-no-macOS">fazer no macOS</a>, no Ubuntu não é muito diferente, é até mais simples.</p>
<p>Primeiro passo, instalar o <a href="https://mosquitto.org/" target="_blank" rel="external">Mosquitto</a> usando o <strong>apt-get</strong>.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install mosquitto mosquitto-clients</div></pre></td></tr></table></figure></p>
<p>Simples, ou não? Use o <strong><em>mosquitto_sub</em></strong> e o <strong><em>mosquitto_pub</em></strong> para brincar e fazer seus testes!<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mosquitto_sub -t topic/home</div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mosquitto_pub -t topic/home -m <span class="string">"Ubuntu work!"</span></div></pre></td></tr></table></figure>
<p>Quer proteger o seu <a href="https://mosquitto.org/" target="_blank" rel="external">Mosquitto</a>?</p>
<p>Defina nas configurações do mosquitto para não aceitar usuários anônimos, abra o arquivo de configuração usando o <strong>editor vim</strong> mesmo.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/mosquitto/mosquitto.conf</div></pre></td></tr></table></figure></p>
<p>ou</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/mosquitto/conf.d/default.conf</div></pre></td></tr></table></figure>
<p>E adicione (ou altere) a linha onde está o <strong>allow_anonymous</strong> para <strong>false</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">allow_anonymous <span class="literal">false</span></div></pre></td></tr></table></figure></p>
<p>Se estiver comentado, <strong>descomente</strong>! E se não existe a linha? <strong>Crie</strong>!</p>
<p>Depois, adicione a linha informando o local do seu arquivo de senhas<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">password_file /etc/mosquitto/passwd</div></pre></td></tr></table></figure></p>
<p>Feito isto reinicie o Mosquitto:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service mosquitto restart</div></pre></td></tr></table></figure></p>
<p>E agora, vamos adicionar um usuário e senha:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo mosquitto_passwd -c /etc/mosquitto/passwd USUARIO</div></pre></td></tr></table></figure></p>
<p>Quando você pressionar RETURN/ENTER, ele vai pedir uma senha!<br>Defina uma senha, confirme e pressione RETURN/ENTER movamente.</p>
<p>E agora você precisa passar o usuário e senha nos seus testes!<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mosquitto_sub -t topic/home -u USUARIO -P SENHA</div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mosquitto_pub -t topic/home -m <span class="string">"Proteção sinistra!"</span> -u USUARIO -P SENHA</div></pre></td></tr></table></figure>
<p>Quer definir o HOST e a PORTA manualmente? Faça o seguinte:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mosquitto_sub -t topic/home -h 127.0.0.1 -p 1883</div></pre></td></tr></table></figure></p>
<p>e também na publicação:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mosquitto_pub -t topic/home -m <span class="string">"Wowwww padrim, to em casa!"</span> -h 127.0.0.1 -p 1883</div></pre></td></tr></table></figure></p>
<p>Gosta de <a href="http://pythonclub.com.br/" target="_blank" rel="external">Python</a> ou <a href="https://nodejs.org" target="_blank" rel="external">Node.js</a>? Então conheça o pacote <a href="https://pypi.python.org/pypi/paho-mqtt" target="_blank" rel="external">paho-mqtt</a> para <a href="http://pythonclub.com.br/" target="_blank" rel="external">Python</a> e o <a href="https://github.com/mqttjs/MQTT.js" target="_blank" rel="external">MQTT.js</a> para <a href="https://nodejs.org" target="_blank" rel="external">Node.js</a>, eles são uma belezura. Tem também para <a href="http://br.php.net/" target="_blank" rel="external">PHP</a> que é bem legal e funciona perfeitamente com a extensão <a href="https://github.com/mgdm/Mosquitto-PHP" target="_blank" rel="external">Mosquitto-PHP</a>, eu particularmente uso ele para comunicação com uma API desenvolvida para o <a href="https://laravel.com/docs" target="_blank" rel="external">Laravel</a>.</p>
<p>Quer finalizar o <a href="https://mosquitto.org/" target="_blank" rel="external">Mosquitto</a>? Claro, somente se você quiser, não é necessário!<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service mosquitto stop</div></pre></td></tr></table></figure></p>
<p>Quer saber mais sobre Mosquitto e MQTT? Cola la no <a href="https://www.google.com.br/webhp?ion=1&amp;espv=2&amp;ie=UTF-8#q=mqtt" target="_blank" rel="external">google</a>, tem tudo!</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Diferencas-entre-os-diversos-modelos-de-Arduino/"><span>Diferenças entre os diversos modelos de Arduino</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Diferencas-entre-os-diversos-modelos-de-Arduino/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-10T11:50:14.000Z">
          2017-02-10
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>O lance aqui hoje é rápido, você sabe a diferença entre os modelos de Arduino? Se não sabe, essa é a hora camarada.</p>
<p><img src="http://blog.filipeflop.com/wp-content/uploads/2014/02/Tabela-comparativa1.png" alt="I"></p>
<p>Essa tabela acima é bem legal, ela explica e resume tudo. Na empresa utilizamos muito o Nano, Pro Mini e o <a href="http://www.arduinoportugal.pt/temas/programar-arduino-no-nodemcu/" target="_blank" rel="external">NodeMCU</a> (que não está na lista) para produtos finais e o Uno para testes.</p>
<p>Mas, para mais detalhes você pode acessar ela lá no <a href="http://blog.filipeflop.com/arduino/tipos-de-arduino-qual-comprar.html" target="_blank" rel="external">Blog do FilipeFlop</a> e <a href="http://blog.filipeflop.com/wp-content/uploads/2014/02/Tabela-comparativa1.png" target="_blank" rel="external">aqui você pode ver</a> a imagem em tamanho real.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Macro-Request-no-Laravel/"><span>Macro Request no Laravel</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Macro-Request-no-Laravel/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-08T13:01:45.000Z">
          2017-02-08
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Para mim uma das coisas mais fascinantes no <a href="https://laravel.com/docs/" target="_blank" rel="external">Laravel</a>, são os Macros, muito pouco falados na documentação (ou não), enfim, são demais.</p>
<p>Os Macros eles basicamente servem, para extender os métodos de uma biblioteca ou seja la o que for. Então, conseguimos criar “customizações” de acordo com a nossa necessidade.</p>
<p>Por aqui eu vou mostrar, como utilizar um Macro para o <a href="https://laravel.com/docs/requests" target="_blank" rel="external">Requests do Laravel</a>.</p>
<p>Primeiro, vamos criar um provider usando o artisan<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">php artisan make:provider MacroServiceProvider</div></pre></td></tr></table></figure></p>
<p>Depois de criado, vá na pasta <strong>config</strong>, abra o arquivo <strong>app.php</strong> e adicione o seguinte Provider<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">App\Providers\MacroServiceProvider::class,</div></pre></td></tr></table></figure></p>
<p>Isso, agora vá na pasta do seu projeto Laravel em <strong>app/Providers</strong> e abra o <strong>MacroServiceProvider.php</strong></p>
<p>Já abriu? Agora vamos adicionar a classe Request do Laravel para uso:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</div></pre></td></tr></table></figure></p>
<p>O início do seu Provider ficará mais ou menos assim<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Providers</span>;</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">ServiceProvider</span>;</div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MacroServiceProvider</span> <span class="keyword">extends</span> <span class="title">ServiceProvider</span></span></div><div class="line">&#123;</div><div class="line">...</div></pre></td></tr></table></figure></p>
<p>Certo, agora vamos criar o Macro, para isso <strong>dentro do método boot()</strong> coloque o seguinte código:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Request::macro(<span class="string">'isEdit'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="keyword">$this</span>-&gt;is(<span class="string">'/editar'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>Para usar:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Com helper request() do Laravel para ser chamado em uma view por exemplo</span></div><div class="line"><span class="keyword">if</span>(request()-&gt;isEdit())</div><div class="line">    <span class="keyword">echo</span>(<span class="string">"Estou editando o bagui"</span>);</div><div class="line"></div><div class="line"><span class="comment">// Sem o helper</span></div><div class="line"><span class="keyword">if</span>($request-&gt;isEdit())</div><div class="line">    <span class="keyword">echo</span>(<span class="string">"Estou editando o bagui"</span>);</div></pre></td></tr></table></figure></p>
<p>O que aconteceu ai? Eu explico! Quando chama o Macro <strong>isEdit()</strong> ele vai buscar usando o método <strong>is()</strong> do Request do Laravel, se a rota atual é a rota de edição retorna <strong>true</strong>, se não, <strong>false</strong>.</p>
<p>Quase tudo no Laravel tem Macros, olha só:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Routing</span>\<span class="title">UrlGenerator</span>;</div><div class="line">UrlGenerator::macro(<span class="string">'nomeMacro'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123; ... &#125;);</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Collection</span>;</div><div class="line">Collection::macro(<span class="string">'nomeMacro'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123; ... &#125;);</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Routing</span>\<span class="title">Router</span>;</div><div class="line">Router::macro(<span class="string">'nomeMacro'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123; ... &#125;);</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Str</span>;</div><div class="line">Str::macro(<span class="string">'nomeMacro'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123; ... &#125;);</div><div class="line"></div><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Arr</span>;</div><div class="line">Arr::macro(<span class="string">'nomeMacro'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123; ... &#125;);</div></pre></td></tr></table></figure>
<p>… E muito mais!</p>
<p>Como eu descobri onde o Laravel usa Macros?</p>
<p>Não sei se foi a forma correta e blá blá blá mas para mim e minha equipe funcionou perfeitamente. O código principal do <a href="https://laravel.com/api" target="_blank" rel="external">Framework Laravel</a>, o núcleo dele, o chamado <a href="https://laravel.com/api" target="_blank" rel="external">Illuminate</a>, contém todas as classes e métodos utilizados, enfim o “coraçnao” do framework, você pode <a href="https://laravel.com/api" target="_blank" rel="external">acessá-lo aqui</a>.</p>
<p>Por exemplo, para o Request, normalmente é utilizado o <strong>Illuminate\Http\Request</strong>, se você abrir este arquivo, você verá que ele usa a <strong>Trait Macroable</strong> que é responsável pelos Macros, então adivinha meu chegado…<br><img src="/images/emojis/smirk.png" width="24" height="24" class="custom_class1 custom_class2 emoji nofancybox" title="smirk"> <img src="/images/emojis/wink.png" width="24" height="24" class="custom_class1 custom_class2 emoji nofancybox" title="wink"></p>
<p>Um exemplo real do uso de macros, é o pacote <a href="https://github.com/spatie/laravel-collection-macros" target="_blank" rel="external">Laravel Collection Macros</a> que falei no post anterior, <a href="https://github.com/spatie/laravel-collection-macros/blob/master/src/macros.php" target="_blank" rel="external">olha só o código dos macros dele</a>.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Turbine-as-Collection-do-Laravel-com-o-Laravel-Collection-Macros-da-Spatie/"><span>Turbine as Collection do Laravel com o Laravel Collection Macros da Spatie</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Turbine-as-Collection-do-Laravel-com-o-Laravel-Collection-Macros-da-Spatie/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-08T12:41:37.000Z">
          2017-02-08
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Que as <a href="https://laravel.com/docs/collections" target="_blank" rel="external">Collections do Laravel</a> são legais e que ajudam muito na hora de desenvolver todo mundo sabe. Mas em muitas ocasiões faltam funções que precisamos e não existe, para isso você tem duas opções, criar suas próprias collections ou usar pacotes de terceiros.</p>
<p>É ai que entra a <a href="https://spatie.be/en/opensource/laravel" target="_blank" rel="external">Spatie</a>, eles criaram um pacote para Laravel, o <a href="https://github.com/spatie/laravel-collection-macros" target="_blank" rel="external">Laravel Collection Macros</a>.</p>
<p>Mesmo assim, no nosso caso aqui na empresa ainda faltam algumas funções, mas enfim, o foco aqui não é falar disso e isso também <strong>não tira o mérito do pacote da Spatie</strong>.</p>
<p>Hoje em dia, AINDA vejo MUITOS programadores resistentes a usar pacotes e até mesmo frameworks, acreditam?</p>
<p>Poisé, eu mesmo não acredito! Particularmente acho isso muita ignorância mas não julgo ninguém, em toda minha experiência posso falar com toda a certeza, usar pacotes de terceiros e frameworks não é uma vergonha e sim um ganho gigantesco de tempo e sem perder a qualidade do seu desenvolvimento.</p>
<p>Então meu amigo, <strong>a menos que você esteja entrando no mundo da programação agora e não entende de nada AINDA</strong>, use e abuse de pacotes e frameworks.</p>
<p>Mas voltando ao pacote, para instalar vá a pasta do seu projeto Laravel e use o <a href="https://tableless.com.br/composer-para-iniciantes/" target="_blank" rel="external">composer</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">composer require spatie/laravel-collection-macros</div></pre></td></tr></table></figure></p>
<p>Depois, adicione o provider no arquivo <strong>app.php</strong> que está na pasta <strong>config</strong> dentro da pasta do seu projeto Laravel<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Spatie\CollectionMacros\CollectionMacroServiceProvider::class,</div></pre></td></tr></table></figure></p>
<p>E depois? Use, use e use! Para saber quais <strong>collections</strong> o pacote possui, entra la <a href="https://github.com/spatie/laravel-collection-macros" target="_blank" rel="external">no Github deles</a>, tem tudo! Os que mais usamos aqui são:</p>
<ul>
<li><a href="https://github.com/spatie/laravel-collection-macros#range" target="_blank" rel="external">range()</a></li>
<li><a href="https://github.com/spatie/laravel-collection-macros#dd" target="_blank" rel="external">dd()</a></li>
<li><a href="https://github.com/spatie/laravel-collection-macros#validate" target="_blank" rel="external">validate()</a></li>
<li><a href="https://github.com/spatie/laravel-collection-macros#ifempty" target="_blank" rel="external">ifEmpty()</a></li>
</ul>
<p> Rapaiz, o <strong>dd()</strong> usado nesse contexto ai, é sinistrão!</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Alterar-Collection-de-uma-tabela-no-MySQL/"><span>Alterar Collection de uma tabela no MySQL</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Alterar-Collection-de-uma-tabela-no-MySQL/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-08T12:24:18.000Z">
          2017-02-08
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p> Com a chegada do Laravel 5.4, nós preferimos mudar a collection de algumas tabelas do nosso banco de dados, não vou explicar o que mudou, nem o porquê, mas você <a href="https://laravel.com/docs/5.4/releases" target="_blank" rel="external">pode ver aqui</a>.</p>
<p> Mas, para tal ação é só executar a seguinte query no console do MySQL ou no seu gerenciador preferido de banco de dados.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ALTER TABLE  SUA_TABELA CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</div></pre></td></tr></table></figure>
<p>É isso, sem muita frescura.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Pub-Sub-com-Laravel-e-Redis/"><span>Pub / Sub com Laravel e Redis</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Pub-Sub-com-Laravel-e-Redis/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-08T11:46:23.000Z">
          2017-02-08
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Eu nem precisava fazer este artigo, pois na <a href="https://laravel.com/docs/redis#pubsub" target="_blank" rel="external">documentação do laravel</a> tem exemplos, explica tudo. Mas beleza!</p>
<p>Para quem não sabe, Redis é um banco de dados NoSQL e ele funciona com a idéia de chave-valor. O valor (e também a chave) pode ser qualquer coisa, eu uso muito para arrays e até mesmo para views que não mudam muito e podem ser cacheadas para carregar uma página web mais rápido. Se quiser saber mais sobre Redis, da-lhe Google.</p>
<p>O Laravel é um framework para PHP robusto e que faz praticamente tudo o que você precisar, é simplesmente perfeito! Na empresa, usamos ele em todos os nosso projetos. Claro, usamos outras tecnologias também, mas a base de tudo gira em torno do Laravel.</p>
<p>Primeiro, precisamos criar um comando no <a href="https://laravel.com/docs/artisan" target="_blank" rel="external">Artisan</a> para testarmos o nosso Subscribe.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">php artisan make:<span class="built_in">command</span> SubTestCommand</div></pre></td></tr></table></figure></p>
<p>Isso, agora vai lá no seu arquivo SubTestCommand.php, adicione a Facade do Redis:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Redis</span>;</div></pre></td></tr></table></figure>
<p>Dê uma assinatura pra ele “<strong>redis:subscribe</strong>“, uma descrição “<strong>Redis subscribe test</strong>“ ou qualquer outra descrição que você quiser, ou copie como está na <a href="https://laravel.com/docs/redis#pubsub" target="_blank" rel="external">documentação do laravel</a>, você quem sabe.</p>
<p>Continuando… No método <strong>handle</strong> que é onde executa o comando, coloque o seguinte:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Redis::psubscribe([<span class="string">'casa/*'</span>], <span class="function"><span class="keyword">function</span> <span class="params">($message, $channel)</span> </span>&#123;</div><div class="line">    <span class="comment">// $message é a mensagem recebida, obviamente</span></div><div class="line">    <span class="comment">// $channel é o canal o qual foi enviada a publicação</span></div><div class="line">    <span class="keyword">echo</span> <span class="string">"\nMensagem: "</span>.$message.<span class="string">"\n\nCanal: "</span>.json_encode(explode(<span class="string">'/'</span>, $channel)).<span class="string">"\n"</span>;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>Na <a href="https://laravel.com/docs/redis#pubsub" target="_blank" rel="external">documentação do laravel</a> existe duas formas de usar o subscribe, que é <strong>Redis::subscribe()</strong> e <strong>Redis::psubscribe()</strong> a diferença entre um e outro é que o primeiro não aceita curinga (wildcard) e o segundo aceita. Mas, se você quer saber mais, olhe ai na documentação, lá explica tudo. Mas o que eu expliquei aqui já é o suficiente acredito.</p>
<p>Beleza, tudo lindo e funcionando até agora. Mas temos que executar o comando e criar um publish né? Certo, para executar o comando que criamos no Laravel faça o seguinte<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">php artisan redis:subscribe</div></pre></td></tr></table></figure></p>
<p>Certo, agora precisamos enviar uma publicação para o canal “<strong>casa</strong>“, para testes vamos usar o <a href="https://github.com/laravel/tinker" target="_blank" rel="external">Laravel Tinker</a>, corre lá no terminal, onde está instalado o Laravel que você está usando para testes, e digite o comando:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">php artisan tinker</div></pre></td></tr></table></figure></p>
<p>O Tinker será iniciado e nele iremos digitar o seguinte:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Illuminate\Support\Facades\Redis::publish(<span class="string">'casa/sala'</span>, json_encode([<span class="string">'comando'</span> =&gt; <span class="string">'ligar-luz'</span>]));</div></pre></td></tr></table></figure></p>
<p>Repare que na janela do terminal onde está executando o comando <strong>artisan redis:subscribe</strong> irá receber uma mensagem. Pronto, agora faça a seu gosto.</p>
<p>No artigo, eu usei exemplo enviando um comando para uma casa, mas, você pode usar isso em qualquer lugar, seja software, hardware ou <a href="http://devtecnologia.com.br/internet-das-coisas-iot/" target="_blank" rel="external">IoT</a>, até porquê quando se diz respeito a <a href="http://devtecnologia.com.br/internet-das-coisas-iot/" target="_blank" rel="external">IoT</a> eu prefiro usar o MQTT.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Instalando-a-extensao-Mosquitto-PHP/"><span>Instalando a extensão Mosquitto-PHP no Ubuntu</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Instalando-a-extensao-Mosquitto-PHP/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-07T23:09:24.000Z">
          2017-02-07
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>E ai, bora instalar a extensão Mosquitto-PHP? Testado e sendo usado em <strong>dois servidores</strong> com Ubuntu 16+, um local e um externo. Não sabe a versão do seu? Use o comando no terminal:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lsb_release <span class="_">-a</span></div></pre></td></tr></table></figure></p>
<p>O comando acima irá retornar algo como:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Distributor ID:	Ubuntu</div><div class="line">Description:	Ubuntu 16.04 LTS</div><div class="line">Release:	16.04</div><div class="line">Codename:	xenial</div></pre></td></tr></table></figure></p>
<p>Certo, chega de perder tempo olhando versão. Primeiro, temos que instalar o pacote libmosquitto-dev, em alguns sistemas derivados do Red Hat é provável que seja chamado de libmosquitto-devel, mas, se não for, tente a outra forma.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install libmosquitto-dev</div></pre></td></tr></table></figure></p>
<p>Já ia me esquecendo, a primeira vez que fui instalar usando o PECL e seguindo o tutorial do próprio Github deles, não deu muito certo, eu tive que pesquisar e tentar outras maneiras, até que achei uma solução e funcionou, mas mesmo assim houve alguns problemas no decorrer da instalação, então, aqui eu mostro como instalei e funcionou sem nenhum problema e sem nenhum erro antes, durante e nem depois da instalação. <strong>Se der algum problema no seu, pesquise e ache uma solução</strong>, mas creio que dará tudo certo.</p>
<p>Agora vamos clonar o repositório da extensão para uma pasta qualquer, eu costumo jogar tudo na /tmp, mas é você quem decide.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/mgdm/Mosquitto-PHP.git</div></pre></td></tr></table></figure></p>
<p>E vamos entrar na pasta…<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> Mosquitto-PHP/</div></pre></td></tr></table></figure></p>
<p>E agora? Vamos instalar a extensão de fato.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">phpize</div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./configure --with-mosquitto=/path/to/libmosquitto</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make <span class="built_in">test</span></div></pre></td></tr></table></figure>
<p>Em alguns casos, aqui não é necessário usar sudo, mas em outros é! Então, faça de acordo com sua máquina.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo make install</div></pre></td></tr></table></figure></p>
<p>Já instalado, está quase pronto. Agora precisamos ativar a extensão nas configurações (<strong>php.ini</strong>) do PHP. No meu caso, o PHP se encontra instalado em <strong>/etc/php/7.0/</strong>.</p>
<p>Abra e altere o arquivo php.ini. Se você não sabe como usar o vim, <a href="http://aurelio.net/vim/vim-basico.txt" target="_blank" rel="external">olhe aqui</a>.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/php/7.0/cli/php.ini</div></pre></td></tr></table></figure></p>
<p>E adicione a seguinte linha em extension no PHP Cli<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">extension</span>=mosquitto.so</div></pre></td></tr></table></figure></p>
<p>Abra e altere o arquivo php.ini no FPM também.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/php/7.0/fpm/php.ini</div></pre></td></tr></table></figure></p>
<p>E adicione a seguinte linha em extension no PHP FPM<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">extension=mosquitto.so</div></pre></td></tr></table></figure></p>
<p>Como usar? Darei um exemplo simples para ouvir o tópico “<strong>casa</strong>“<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Inicia o cliente</span></div><div class="line">$c = <span class="keyword">new</span> \Mosquitto\Client;</div><div class="line"></div><div class="line"><span class="comment">// Se o seu mosquitto não possuir usuário e senha, basta remover a linha seguinte.</span></div><div class="line">$c-&gt;setCredentials(<span class="string">'USUARIO_MQTT'</span>, <span class="string">'SENHA_MQTT'</span>);</div><div class="line"></div><div class="line"><span class="comment">// Conecta no broker/servidor mosquitto</span></div><div class="line">$c-&gt;connect(<span class="string">'IP_DO_MOSQUITTO'</span>);</div><div class="line"></div><div class="line"><span class="comment">// Quando usa o "#", você está dizendo que tudo que chegar para o subscribe após a / (barra), ele irá receber.</span></div><div class="line"><span class="comment">// Lembrando que você pode subscrever em vários tópicos, basta adicionar uma linha abaixo da outra.</span></div><div class="line">$c-&gt;subscribe(<span class="string">'casa/#'</span>, <span class="number">0</span>);</div><div class="line"></div><div class="line"><span class="comment">// Quando chegar uma mensagem ao subscribe no tópico "casa"</span></div><div class="line">$c-&gt;onMessage(<span class="function"><span class="keyword">function</span><span class="params">($m)</span> <span class="title">use</span> <span class="params">($c)</span> </span>&#123;</div><div class="line">    print_r($m);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// Coloca em loop</span></div><div class="line">$c-&gt;loopForever(<span class="number">0</span>);</div></pre></td></tr></table></figure></p>
<p>Tudo beleza? Salve o aquivo acima como mqttext.php em algum lugar na sua máquina. Dai, corre no seu terminal e digita o seguinte:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">php mqttext.php</div></pre></td></tr></table></figure></p>
<p>Envie uma publicação (usando o <a href="https://github.com/mqttjs/MQTT.js" target="_blank" rel="external">MQTT.js</a> ou o <a href="https://pypi.python.org/pypi/paho-mqtt" target="_blank" rel="external">paho-mqtt</a> ou qualquer outro que você quiser, só para teste) para o canal <strong>casa</strong> e veja a mágina acontecer.</p>
<p>E para publicar uma mensagem usando a extensão Mosquitto-PHP? Simples também!</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Inicia o cliente</span></div><div class="line">$c = <span class="keyword">new</span> Mosquitto\Client;</div><div class="line"></div><div class="line"><span class="comment">// Quando conectar, envia a publicação</span></div><div class="line">$c-&gt;onConnect(<span class="function"><span class="keyword">function</span><span class="params">()</span> <span class="title">use</span> <span class="params">($c)</span> </span>&#123;</div><div class="line">	$c-&gt;publish(<span class="string">'casa/sala'</span>, <span class="string">'Enviando para a Sala da Casa'</span>, <span class="number">1</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// Se o seu mosquitto não possuir usuário e senha, basta remover a linha seguinte.</span></div><div class="line">$c-&gt;setCredentials(<span class="string">'USUARIO_MQTT'</span>, <span class="string">'SENHA_MQTT'</span>);</div><div class="line"></div><div class="line"><span class="comment">// Conecta no broker/servidor mosquitto</span></div><div class="line">$c-&gt;connect(<span class="string">'IP_DO_MOSQUITTO'</span>);</div><div class="line"></div><div class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; <span class="number">100</span>; $i++) &#123;</div><div class="line">	<span class="comment">// Necessário para que a extensão funcione</span></div><div class="line">	<span class="comment">// Faz um loop até enviar</span></div><div class="line">	$c-&gt;loop(<span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Salve o arquivo acima como mqttpub.php.</p>
<p>Faça um teste mais legal ainda, quando você instalou o broker mosquitto, ele vem com comandos para sub e pub, abra uma nova aba ou janela do seu terminal, e inicie o mosquitto_sub da seguinte maneira:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mosquitto_sub -h IP_DO_MOSQUITTO -t casa/# -q 1</div></pre></td></tr></table></figure></p>
<p>Caso tenha usuário e senha<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mosquitto_sub -h IP_DO_MOSQUITTO -t casa/# -q 1 -u USUARIO -P SENHA</div></pre></td></tr></table></figure></p>
<p>Beleza, ele vai rodar em loop, abra uma nova aba ou janela novamente, e execute o arquivo mqttpub.php que você criou ali em cima.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">php mqttpub.php</div></pre></td></tr></table></figure></p>
<p>Repare que na aba onde está rodando o mosquitto_sub vai aparecer a mensagem “<strong>Enviando para a Sala da Casa</strong>“ publicada pelo mqttpub.php uando a extensão Mosquitto-PHP. Doido né?</p>
<p>Quer mais sobre a extensão Mosquitto-PHP? Então, <a href="https://github.com/mgdm/Mosquitto-PHP" target="_blank" rel="external">aqui está o Github</a> deles e <a href="http://mosquitto-php.readthedocs.io/en/latest/client.html" target="_blank" rel="external">aqui a documentação</a>.</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Procure-portas-no-macOS-e-saiba-quais-processos-estao-usando-elas/"><span>Procure portas no macOS e saiba quais processos estão usando elas</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Procure-portas-no-macOS-e-saiba-quais-processos-estao-usando-elas/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-07T19:45:47.000Z">
          2017-02-07
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Olha essa linha de comando que coisinha mais simples e cheia de graça.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lsof -i tcp:8000</div></pre></td></tr></table></figure></p>
<p>Falei macOS, mas estou usando o OS X El Capitain. Na linha acima, vai mostrar o seguinte<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME</div><div class="line">VBoxHeadl 2011 wow   24u  IPv4 0xd0e6a899f3a4fa03      0t0  TCP *:irdmi (LISTEN)</div></pre></td></tr></table></figure></p>
<p>Na minha porta 8000 quem (ou o quê) está usando é o <a href="https://pt.wikipedia.org/wiki/VirtualBox" target="_blank" rel="external">Virtual Box</a> rodando o <a href="https://laravel.com/docs" target="_blank" rel="external">Laravel</a> <a href="https://laravel.com/docs/homestead" target="_blank" rel="external">Homestead</a>.</p>
<p>Não tem Mac? Fazer o quê, demorei a ter um também! Paciência!</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>




<nav class="pagination">
  
  
  <a href="/page/2/" class="pagination-next">Next</a>
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2017 Faz-B Man
    
  </p>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-74265041-14', 'auto');
  ga('send', 'pageview');

</script>
    
  </div>
</div>
</body>
</html>