<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>Page 2 | Faz-B</title>

  
  <meta name="author" content="Faz-B Man">
  

  
  <meta name="description" content="Como fazer coisas tecnológicas de formas simples e rápidas, sem frescura!">
  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="Faz-B">

  
  <meta property="og:image" content="/favicon.ico">
  

  <meta name="google-site-verification" content="VSyuiZ57yu1p3PRQGOiZxEOSgbYE7Zy5s8dWJoH-k-U">

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Faz-B" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Faz-B</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Início</a></li>
      
        <li><a href="https://gercil.me">Gercil.Me</a></li>
      
    </ul>
  </nav>
  <nav class="site-navigation">
    <ul>
      <li style="text-align: left !important; padding: 0 !important; margin:0 !important;">
        <br>
        <br>

<script>
  (function() {
    var cx = '004458774873966046760:dbs6nv-auso';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:searchbox-only></gcse:searchbox-only>


      </li>
    </ul>
  </nav>
</header>




    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Instalando-a-extensao-Mosquitto-PHP/"><span>Instalando a extensão Mosquitto-PHP no Ubuntu</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Instalando-a-extensao-Mosquitto-PHP/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-16T17:00:26.000Z">
          2017-02-16
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>E ai, bora instalar a extensão Mosquitto-PHP? Testado e sendo usado em <strong>dois servidores</strong> com Ubuntu 16+, um local e um externo. Não sabe a versão do seu? Use o comando no terminal:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsb_release -a</span><br></pre></td></tr></table></figure></p>
<p>O comando acima irá retornar algo como:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Distributor ID:	Ubuntu</span><br><span class="line">Description:	Ubuntu 16.04 LTS</span><br><span class="line">Release:	16.04</span><br><span class="line">Codename:	xenial</span><br></pre></td></tr></table></figure></p>
<p>Certo, chega de perder tempo olhando versão. Primeiro, temos que instalar o pacote libmosquitto-dev, em alguns sistemas derivados do Red Hat é provável que seja chamado de libmosquitto-devel, mas, se não for, tente a outra forma.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libmosquitto-dev</span><br></pre></td></tr></table></figure></p>
<p>Já ia me esquecendo, a primeira vez que fui instalar usando o PECL e seguindo o tutorial do próprio Github deles, não deu muito certo, eu tive que pesquisar e tentar outras maneiras, até que achei uma solução e funcionou, mas mesmo assim houve alguns problemas no decorrer da instalação, então, aqui eu mostro como instalei e funcionou sem nenhum problema e sem nenhum erro antes, durante e nem depois da instalação. <strong>Se der algum problema no seu, pesquise e ache uma solução</strong>, mas creio que dará tudo certo.</p>
<p>Agora vamos clonar o repositório da extensão para uma pasta qualquer, eu costumo jogar tudo na /tmp, mas é você quem decide.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/mgdm/Mosquitto-PHP.git</span><br></pre></td></tr></table></figure></p>
<p>E vamos entrar na pasta…<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> Mosquitto-PHP/</span><br></pre></td></tr></table></figure></p>
<p>E agora? Vamos instalar a extensão de fato.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">phpize</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --with-mosquitto=/path/to/libmosquitto</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>Em alguns casos, aqui não é necessário usar sudo, mas em outros é! Então, faça de acordo com sua máquina.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure></p>
<p>Já instalado, está quase pronto. Agora precisamos ativar a extensão nas configurações (<strong>php.ini</strong>) do PHP. No meu caso, o PHP se encontra instalado em <strong>/etc/php/7.0/</strong>.</p>
<p>Abra e altere o arquivo php.ini. Se você não sabe como usar o vim, <a href="http://aurelio.net/vim/vim-basico.txt" target="_blank" rel="noopener">olhe aqui</a>.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/php/7.0/cli/php.ini</span><br></pre></td></tr></table></figure></p>
<p>E adicione a seguinte linha em extension no PHP Cli<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">extension</span>=mosquitto.so</span><br></pre></td></tr></table></figure></p>
<p>Abra e altere o arquivo php.ini no FPM também.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/php/7.0/fpm/php.ini</span><br></pre></td></tr></table></figure></p>
<p>E adicione a seguinte linha em extension no PHP FPM<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extension=mosquitto.so</span><br></pre></td></tr></table></figure></p>
<p>Como usar? Darei um exemplo simples para ouvir o tópico “<strong>casa</strong>“<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inicia o cliente</span></span><br><span class="line">$c = <span class="keyword">new</span> \Mosquitto\Client;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Se o seu mosquitto não possuir usuário e senha, basta remover a linha seguinte.</span></span><br><span class="line">$c-&gt;setCredentials(<span class="string">'USUARIO_MQTT'</span>, <span class="string">'SENHA_MQTT'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Conecta no broker/servidor mosquitto</span></span><br><span class="line">$c-&gt;connect(<span class="string">'IP_DO_MOSQUITTO'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Quando usa o "#", você está dizendo que tudo que chegar para o subscribe após a / (barra), ele irá receber.</span></span><br><span class="line"><span class="comment">// Lembrando que você pode subscrever em vários tópicos, basta adicionar uma linha abaixo da outra.</span></span><br><span class="line">$c-&gt;subscribe(<span class="string">'casa/#'</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Quando chegar uma mensagem ao subscribe no tópico "casa"</span></span><br><span class="line">$c-&gt;onMessage(<span class="function"><span class="keyword">function</span><span class="params">($m)</span> <span class="title">use</span> <span class="params">($c)</span> </span>&#123;</span><br><span class="line">    print_r($m);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Coloca em loop</span></span><br><span class="line">$c-&gt;loopForever(<span class="number">0</span>);</span><br></pre></td></tr></table></figure></p>
<p>Tudo beleza? Salve o aquivo acima como mqttext.php em algum lugar na sua máquina. Dai, corre no seu terminal e digita o seguinte:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php mqttext.php</span><br></pre></td></tr></table></figure></p>
<p>Envie uma publicação (usando o <a href="https://github.com/mqttjs/MQTT.js" target="_blank" rel="noopener">MQTT.js</a> ou o <a href="https://pypi.python.org/pypi/paho-mqtt" target="_blank" rel="noopener">paho-mqtt</a> ou qualquer outro que você quiser, só para teste) para o canal <strong>casa</strong> e veja a mágina acontecer.</p>
<p>E para publicar uma mensagem usando a extensão Mosquitto-PHP? Simples também!</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Inicia o cliente</span></span><br><span class="line">$c = <span class="keyword">new</span> Mosquitto\Client;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Quando conectar, envia a publicação</span></span><br><span class="line">$c-&gt;onConnect(<span class="function"><span class="keyword">function</span><span class="params">()</span> <span class="title">use</span> <span class="params">($c)</span> </span>&#123;</span><br><span class="line">	$c-&gt;publish(<span class="string">'casa/sala'</span>, <span class="string">'Enviando para a Sala da Casa'</span>, <span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Se o seu mosquitto não possuir usuário e senha, basta remover a linha seguinte.</span></span><br><span class="line">$c-&gt;setCredentials(<span class="string">'USUARIO_MQTT'</span>, <span class="string">'SENHA_MQTT'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Conecta no broker/servidor mosquitto</span></span><br><span class="line">$c-&gt;connect(<span class="string">'IP_DO_MOSQUITTO'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; <span class="number">100</span>; $i++) &#123;</span><br><span class="line">	<span class="comment">// Necessário para que a extensão funcione</span></span><br><span class="line">	<span class="comment">// Faz um loop até enviar</span></span><br><span class="line">	$c-&gt;loop(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Salve o arquivo acima como mqttpub.php.</p>
<p>Faça um teste mais legal ainda, quando você instalou o broker mosquitto, ele vem com comandos para sub e pub, abra uma nova aba ou janela do seu terminal, e inicie o mosquitto_sub da seguinte maneira:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mosquitto_sub -h IP_DO_MOSQUITTO -t casa/# -q 1</span><br></pre></td></tr></table></figure></p>
<p>Caso tenha usuário e senha<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mosquitto_sub -h IP_DO_MOSQUITTO -t casa/# -q 1 -u USUARIO -P SENHA</span><br></pre></td></tr></table></figure></p>
<p>Beleza, ele vai rodar em loop, abra uma nova aba ou janela novamente, e execute o arquivo mqttpub.php que você criou ali em cima.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php mqttpub.php</span><br></pre></td></tr></table></figure></p>
<p>Repare que na aba onde está rodando o mosquitto_sub vai aparecer a mensagem “<strong>Enviando para a Sala da Casa</strong>“ publicada pelo mqttpub.php uando a extensão Mosquitto-PHP. Doido né?</p>
<p>Quer mais sobre a extensão Mosquitto-PHP? Então, <a href="https://github.com/mgdm/Mosquitto-PHP" target="_blank" rel="noopener">aqui está o Github</a> deles e <a href="http://mosquitto-php.readthedocs.io/en/latest/client.html" target="_blank" rel="noopener">aqui a documentação</a>.</p>
<hr>
<p>Dicas por Gercil Junio - <a href="https://gercil.me" target="_blank" rel="noopener">https://gercil.me</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Executando-comandos-de-Apple-Script-no-Node-js/"><span>Executando comandos de Apple Script no Node.js</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Executando-comandos-de-Apple-Script-no-Node-js/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-16T16:53:11.000Z">
          2017-02-16
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Para mim, automatizar tarefas no Mac é meio que uma diversão. Por exemplo, scripts para backup e sincronização no Google Drive, Dropbox e HD externo, envio de SMS quando tais backups chegam ao fim, execução de comandos bash personalizados e etc.</p>
<p>Recentemente criei um projeto em node que recebe comandos atavés de um <strong>MQTT Broker</strong> (usando publisher, claro!) que executa certas tarefas no Mac, uma vez que costumo sair do escritório e deixá-lo ligado. E o que mais uso, são <strong>Apple Scripts</strong>.</p>
<p>Precisei executar alguns <strong>Apple Scripts</strong> através do <strong>Node.js</strong> e encontrei a biblioteca <a href="https://www.npmjs.com/package/node-osascript" target="_blank" rel="noopener">node-osascript</a>, não tenho muito o que falar, só que funciona perfeitamente.</p>
<p>Enfim, aqui eu instalei o pacote global<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install node-osascript -g</span><br></pre></td></tr></table></figure></p>
<p>E para testar, crie um script (<a href="https://www.npmjs.com/package/node-osascript#simple" target="_blank" rel="noopener">o mesmo do exemplo na página do pacote</a>), porém mudei para ativar o Google Chrome. Se ele estiver fechado, será aberto e se já estiver aberto, será focado/ativado.</p>
<p>Salve o script abaixo como <strong>index.js</strong> em qualquer pasta que você quiser.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> osascript = <span class="built_in">require</span>(<span class="string">'node-osascript'</span>);</span><br><span class="line"> </span><br><span class="line">osascript.execute(<span class="string">'tell application "Chrome" to activate'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, result, raw</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.error(err)</span><br><span class="line">  <span class="built_in">console</span>.log(result, raw)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>Execute o script com o node e seja feliz.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node index.php</span><br></pre></td></tr></table></figure></p>
<p>Para ver como funciona, você pode testar o <strong>Apple Script</strong> sem o node, usando o terminal do Mac:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">osascript -e <span class="string">'tell application "Chrome" to activate'</span></span><br></pre></td></tr></table></figure></p>
<p>Não gosto de usar aplicativos prontos pois, para começar eu nunca encontro um que me atenda da forma que preciso, além de alguns custarem um preço absurdo (eu pelo menos não pago). Segundo, é legal criar esses scripts e aprender um pouco mais sobre node, apple scripts, javascript e etc. E tem mais, porquê pagar 30.. 50 dólares se eu posso fazer a mesma coisa em algumas horas?</p>
<img src="/images/emojis/joy.png" width="32" height="32" class="custom_class1 custom_class2 emoji nofancybox" title="joy">
<hr>
<p>Dicas por Gercil Junio - <a href="https://gercil.me" target="_blank" rel="noopener">https://gercil.me</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Diferencas-entre-os-diversos-modelos-de-Arduino/"><span>Diferenças entre os diversos modelos de Arduino</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Diferencas-entre-os-diversos-modelos-de-Arduino/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-16T16:45:44.000Z">
          2017-02-16
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>O lance aqui hoje é rápido, você sabe a diferença entre os modelos de Arduino? Se não sabe, essa é a hora camarada.</p>
<p><img src="http://blog.filipeflop.com/wp-content/uploads/2014/02/Tabela-comparativa1.png" alt="I"></p>
<p>Essa tabela acima é bem legal, ela explica e resume tudo. Na empresa utilizamos muito o Nano, Pro Mini e o <a href="http://www.arduinoportugal.pt/temas/programar-arduino-no-nodemcu/" target="_blank" rel="noopener">NodeMCU</a> (que não está na lista) para produtos finais e o Uno para testes.</p>
<p>Mas, para mais detalhes você pode acessar ela lá no <a href="http://blog.filipeflop.com/arduino/tipos-de-arduino-qual-comprar.html" target="_blank" rel="noopener">Blog do FilipeFlop</a> e <a href="http://blog.filipeflop.com/wp-content/uploads/2014/02/Tabela-comparativa1.png" target="_blank" rel="noopener">aqui você pode ver</a> a imagem em tamanho real.</p>
<hr>
<p>Dicas por Gercil Junio - <a href="https://gercil.me" target="_blank" rel="noopener">https://gercil.me</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Criar-uma-paginacao-customizada-no-Laravel-com-dados-de-uma-collection/"><span>Criar uma paginação customizada no Laravel com dados de uma collection</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Criar-uma-paginacao-customizada-no-Laravel-com-dados-de-uma-collection/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-10T17:31:35.000Z">
          2017-02-10
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p>Talvez você seja um programador fodão em Laravel e fale “Mais isso todo mundo sabe fazer”. É ai que você se engana meu coleguinha, trabalho com Laravel a bastante tempo e posso dizer com toda certeza, muita gente tem dificuldade no momento de criar uma instância customizada de paginação com Laravel.</p>
<p>Logo abaixo, encontra-se uma função usando os recursos do Laravel, mas você pode criar uma classe, uma pacote ou seja la o que for necessário no seu caso.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!function_exists(<span class="string">'paginator_instance'</span>)) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Cria uma intância personalizada do paginator, a qual pode ser usada em retornos de collect e retornis customizados</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  collect/model $items         Itens a serem paginados</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  array  $requests             Requests que devem ser passados na paginação, por exemplo, uma busca (query) e etc</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  int $perPage                 Quantidade de itens por página</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  int $currentPage             Página atual, normalmente vazio pois usa padrão do Laravel</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  array  $options              Opções de paginação, normalmente, usa o padrão do Laravel</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> paginator/collect            Paginator com resultados</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">paginator_instance</span><span class="params">($items, $requests = [], $perPage = <span class="number">10</span>, $currentPage = null, array $options = [])</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// Monta $perPage</span></span><br><span class="line">        $perPage = $perPage;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Pega a página atual</span></span><br><span class="line">        <span class="comment">// Se não preenchido, usa o método resolveCurrentPage() da \Illuminate\Pagination\LengthAwarePaginator</span></span><br><span class="line">        $page = $currentPage ? $currentPage : \Illuminate\Pagination\LengthAwarePaginator::resolveCurrentPage();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Monta collection com itens para paginacao</span></span><br><span class="line">        $currentPageSearchResults = collect($items)-&gt;slice(($page - <span class="number">1</span>) * $perPage, $perPage)-&gt;all();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Cria a paginação</span></span><br><span class="line">        $paginator = (<span class="keyword">new</span> \Illuminate\Pagination\LengthAwarePaginator($currentPageSearchResults, count($items), $perPage, $page, $options &gt;= <span class="number">1</span> ? $options : [</span><br><span class="line">            <span class="string">'path'</span> =&gt; \Illuminate\Pagination\Paginator::resolveCurrentPath(),</span><br><span class="line">            <span class="string">'pageName'</span> =&gt; <span class="string">'page'</span>,</span><br><span class="line">        ]));</span><br><span class="line">		</span><br><span class="line">        <span class="comment">// Retorna os dados montado e com paginação</span></span><br><span class="line">        <span class="keyword">return</span> $paginator-&gt;appends($requests);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Fácil né? Poisé!<br>Entenda melhor a classe <a href="https://laravel.com/api/5.4/Illuminate/Pagination/LengthAwarePaginator.html" target="_blank" rel="noopener"><strong>LengthAwarePaginator</strong></a> e <a href="https://github.com/laravel/framework/blob/5.4/src/Illuminate/Pagination/LengthAwarePaginator.php" target="_blank" rel="noopener">aqui você pode ver</a> o arquivo completo no Github.</p>
<hr>
<p>Dicas por Gercil Junio - <a href="https://gercil.me" target="_blank" rel="noopener">https://gercil.me</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title" style="text-align: left; margin-left: 0; padding-left: 0;"><a href="/Alterar-Collection-de-uma-tabela-no-MySQL/"><span>Alterar Collection de uma tabela no MySQL</span></a></h3>
    
  

  <!--
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/Alterar-Collection-de-uma-tabela-no-MySQL/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-08T19:07:50.000Z">
          2017-02-08
        </time>
      </a>
    </span>
  </div>
  -->


  

  <div class="article-content">
    <div class="entry">
      
        <p> Com a chegada do Laravel 5.4, nós preferimos mudar a collection de algumas tabelas do nosso banco de dados, não vou explicar o que mudou, nem o porquê, mas você <a href="https://laravel.com/docs/5.4/releases" target="_blank" rel="noopener">pode ver aqui</a>.</p>
<p> Mas, para tal ação é só executar a seguinte query no console do MySQL ou no seu gerenciador preferido de banco de dados.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE  SUA_TABELA CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</span><br></pre></td></tr></table></figure>
<p>É isso, sem muita frescura.</p>
<hr>
<p>Dicas por Gercil Junio - <a href="https://gercil.me" target="_blank" rel="noopener">https://gercil.me</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>




<nav class="pagination">
  
  <a href="/" class="pagination-prev">Prev</a>
  
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2020 Faz-B Man
    
  </p>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-74265041-14', 'auto');
  ga('send', 'pageview');

</script>
    
  </div>
</div>
</body>
</html>